<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>git-viz</title>
	<script src="https://d3js.org/d3.v7.min.js"></script>
	<style>
		*, *::before, *::after {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		:root {
			--bg-primary: #1a1a2e;
			--bg-secondary: #16213e;
			--bg-tertiary: #0f3460;
			--text-primary: #e0e0e0;
			--text-secondary: #a0a0b0;
			--accent: #e94560;
			--border: #2a2a4a;
			--transition-speed: 0.3s;
		}

		html, body {
			height: 100%;
			font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
			background: var(--bg-primary);
			color: var(--text-primary);
			overflow: hidden;
		}

		/* Main grid layout */
		.app-layout {
			display: grid;
			grid-template-columns: 280px 1fr;
			grid-template-rows: 1fr 80px;
			grid-template-areas:
				"sidebar graph"
				"sidebar timeline";
			height: 100vh;
			width: 100vw;
		}

		/* Sidebar */
		#sidebar {
			grid-area: sidebar;
			background: var(--bg-secondary);
			border-right: 1px solid var(--border);
			display: flex;
			flex-direction: column;
			overflow: hidden;
			transition: width var(--transition-speed) ease;
		}

		.sidebar-header {
			padding: 16px;
			border-bottom: 1px solid var(--border);
			flex-shrink: 0;
		}

		.sidebar-header h1 {
			font-size: 18px;
			font-weight: 600;
			color: var(--accent);
			letter-spacing: 1px;
		}

		.sidebar-header .repo-name {
			font-size: 12px;
			color: var(--text-secondary);
			margin-top: 4px;
		}

		.sidebar-section {
			padding: 12px 16px;
			border-bottom: 1px solid var(--border);
			flex-shrink: 0;
		}

		.sidebar-section h2 {
			font-size: 11px;
			text-transform: uppercase;
			letter-spacing: 1.5px;
			color: var(--text-secondary);
			margin-bottom: 8px;
		}

		.search-input {
			width: 100%;
			padding: 6px 10px;
			background: var(--bg-primary);
			border: 1px solid var(--border);
			border-radius: 4px;
			color: var(--text-primary);
			font-size: 13px;
			outline: none;
			transition: border-color var(--transition-speed) ease;
		}

		.search-input:focus {
			border-color: var(--accent);
		}

		.contributor-list {
			flex: 1;
			overflow-y: auto;
			padding: 12px 16px;
		}

		.contributor-list h2 {
			font-size: 11px;
			text-transform: uppercase;
			letter-spacing: 1.5px;
			color: var(--text-secondary);
			margin-bottom: 8px;
		}

		.contributor-list .placeholder {
			font-size: 13px;
			color: var(--text-secondary);
			font-style: italic;
		}

		/* Activity chart area in sidebar */
		#activity-chart {
			flex-shrink: 0;
			height: 120px;
			padding: 12px 16px;
			border-top: 1px solid var(--border);
			background: var(--bg-secondary);
		}

		#activity-chart h2 {
			font-size: 11px;
			text-transform: uppercase;
			letter-spacing: 1.5px;
			color: var(--text-secondary);
			margin-bottom: 8px;
		}

		#activity-chart .chart-area {
			width: 100%;
			height: calc(100% - 24px);
			background: var(--bg-primary);
			border-radius: 4px;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		#activity-chart .placeholder {
			font-size: 12px;
			color: var(--text-secondary);
			font-style: italic;
		}

		/* Graph container */
		#graph-container {
			grid-area: graph;
			background: var(--bg-primary);
			position: relative;
			overflow: hidden;
		}

		#graph-container svg {
			width: 100%;
			height: 100%;
		}

		#graph-container .placeholder {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			text-align: center;
			color: var(--text-secondary);
		}

		#graph-container .placeholder .icon {
			font-size: 48px;
			margin-bottom: 12px;
			opacity: 0.3;
		}

		#graph-container .placeholder .label {
			font-size: 14px;
			font-style: italic;
		}

		/* Timeline container */
		#timeline-container {
			grid-area: timeline;
			background: var(--bg-secondary);
			border-top: 1px solid var(--border);
			display: flex;
			align-items: center;
			padding: 0 20px;
			gap: 12px;
		}

		.timeline-controls {
			display: flex;
			align-items: center;
			gap: 8px;
			flex-shrink: 0;
		}

		.btn-play {
			width: 32px;
			height: 32px;
			border-radius: 50%;
			border: 1px solid var(--border);
			background: var(--bg-tertiary);
			color: var(--text-primary);
			cursor: pointer;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 14px;
			transition: background var(--transition-speed) ease, border-color var(--transition-speed) ease;
		}

		.btn-play:hover {
			background: var(--accent);
			border-color: var(--accent);
		}

		.timeline-slider {
			flex: 1;
			-webkit-appearance: none;
			appearance: none;
			height: 4px;
			background: var(--border);
			border-radius: 2px;
			outline: none;
			cursor: pointer;
		}

		.timeline-slider::-webkit-slider-thumb {
			-webkit-appearance: none;
			appearance: none;
			width: 14px;
			height: 14px;
			border-radius: 50%;
			background: var(--accent);
			cursor: pointer;
			transition: transform var(--transition-speed) ease;
		}

		.timeline-slider::-webkit-slider-thumb:hover {
			transform: scale(1.3);
		}

		.timeline-slider::-moz-range-thumb {
			width: 14px;
			height: 14px;
			border-radius: 50%;
			background: var(--accent);
			border: none;
			cursor: pointer;
		}

		.commit-info {
			flex-shrink: 0;
			font-size: 12px;
			color: var(--text-secondary);
			max-width: 300px;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* Loading overlay */
		#loading-overlay {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: var(--bg-primary);
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			z-index: 1000;
			transition: opacity 0.5s ease;
		}

		#loading-overlay.hidden {
			opacity: 0;
			pointer-events: none;
		}

		.spinner {
			width: 40px;
			height: 40px;
			border: 3px solid var(--border);
			border-top-color: var(--accent);
			border-radius: 50%;
			animation: spin 0.8s linear infinite;
		}

		@keyframes spin {
			to { transform: rotate(360deg); }
		}

		.loading-text {
			margin-top: 16px;
			font-size: 14px;
			color: var(--text-secondary);
		}

		/* Scrollbar styling */
		::-webkit-scrollbar {
			width: 6px;
		}

		::-webkit-scrollbar-track {
			background: var(--bg-secondary);
		}

		::-webkit-scrollbar-thumb {
			background: var(--border);
			border-radius: 3px;
		}

		::-webkit-scrollbar-thumb:hover {
			background: var(--text-secondary);
		}

		/* Responsive breakpoints */
		@media (max-width: 900px) {
			.app-layout {
				grid-template-columns: 220px 1fr;
			}
		}

		@media (max-width: 640px) {
			.app-layout {
				grid-template-columns: 1fr;
				grid-template-rows: auto 1fr 80px;
				grid-template-areas:
					"sidebar"
					"graph"
					"timeline";
			}

			#sidebar {
				border-right: none;
				border-bottom: 1px solid var(--border);
				max-height: 200px;
				flex-direction: row;
				flex-wrap: wrap;
			}

			#activity-chart {
				display: none;
			}
		}
	</style>
</head>
<body>
	<div id="loading-overlay">
		<div class="spinner"></div>
		<div class="loading-text">Loading repository...</div>
	</div>

	<div class="app-layout">
		<div id="sidebar">
			<div class="sidebar-header">
				<h1>git-viz</h1>
				<div class="repo-name">No repository loaded</div>
			</div>

			<div class="sidebar-section">
				<h2>Search Files</h2>
				<input type="text" class="search-input" placeholder="Filter by file path...">
			</div>

			<div class="contributor-list">
				<h2>Contributors</h2>
				<div class="placeholder">Load a repository to see contributors</div>
			</div>

			<div id="activity-chart">
				<h2>Activity</h2>
				<div class="chart-area">
					<span class="placeholder">No activity data</span>
				</div>
			</div>
		</div>

		<div id="graph-container">
			<div class="placeholder">
				<div class="icon">&#x2B22;</div>
				<div class="label">Force-directed graph will render here</div>
			</div>
		</div>

		<div id="timeline-container">
			<div class="timeline-controls">
				<button class="btn-play" title="Play/Pause">&#9654;</button>
			</div>
			<input type="range" class="timeline-slider" min="0" max="100" value="0">
			<div class="commit-info">No commits loaded</div>
		</div>
	</div>

	<script>
		// Hide loading overlay once page is ready
		window.addEventListener("load", function() {
			document.getElementById("loading-overlay").classList.add("hidden");
		});
	</script>
</body>
</html>
